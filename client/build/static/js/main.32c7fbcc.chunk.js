(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t){},119:function(e,t,n){"use strict";n.r(t);var r,c,i,a,o,s,l,b,j,u,d,m,h,O,f,p,g,x,y,v,k,S,w,C=n(2),T=n.n(C),P=n(45),B=n.n(P),z=n(9),A=n(5),F=n(7),I=n(6),_=n(15),E=n.n(_),R=n(21),U=n.n(R),M=n(1),L=Object(C.createContext)({}),V=function(){return Object(C.useContext)(L)},Y=function(e){var t=e.children,n=Object(C.useState)(""),r=Object(I.a)(n,2),c=r[0],i=r[1],a=Object(C.useState)(""),o=Object(I.a)(a,2),s=o[0],l=o[1],b=Object(C.useState)(0),j=Object(I.a)(b,2),u=j[0],d=j[1],m=Object(C.useState)(!0),h=Object(I.a)(m,2),O=h[0],f=h[1],p=Object(F.h)();Object(C.useEffect)((function(){var e=U.a.get("refresh-token");if(!e)return f(!1);E.a.post("api/v1/refresh",{refreshToken:e}).then((function(t){var n=t.data;l(e),i(n.accessToken),d(n.expiresIn),f(!1)})).catch((function(e){return console.error(e)}))}),[]),Object(C.useEffect)((function(){var e=new URLSearchParams(p.search).get("code");e&&!c&&(f(!0),E.a.post("api/v1/login",{code:e}).then((function(e){var t=e.data;i(t.accessToken),l(t.refreshToken),d(t.expiresIn),U.a.set("refresh-token",t.refreshToken,{expires:7}),f(!1)})).catch((function(e){return console.error(e)})))}),[p.search,c]),Object(C.useEffect)((function(){if(s&&u){var e=setInterval((function(){E.a.post("api/v1/refresh",{refreshToken:s}).then((function(e){var t=e.data;i(t.accessToken),d(t.expiresIn)})).catch((function(e){return console.error(e)}))}),1e3*(u-60));return function(){return clearInterval(e)}}}),[s,u]);var g={accessToken:c,refreshToken:s,expiresIn:u,loading:O,signOut:function(){i(""),l(""),d(0),U.a.remove("refresh-token")}};return Object(M.jsx)(L.Provider,{value:g,children:t})},N=n(3),D=n(4),q={colors:{black:"#000000",white:"#FFFFFF",primary:"#E7F4B2",background:"#2E3DC6",blue:"#B2F4F4",green:"#B2F4B9",red:"#F4B2B2"},fontFamilies:{heading:"'Poppins', sans-serif",body:"'Poppins', sans-serif"},borderSpace:"2rem"},Q=Object(D.a)(r||(r=Object(N.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n  * {\n    font-family: ",";\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  html, body, #root {\n    height: 100vh;\n  }\n\n  body {\n    background: ",";\n    color: ",";\n  }\n\n  h1,h2,h3,h4,h5,h6 {\n    font-family: ",";\n\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"])),(function(){return q.fontFamilies.body}),(function(){return q.colors.background}),(function(){return q.colors.primary}),(function(){return q.fontFamilies.heading})),J=n(16),G=D.b.div(c||(c=Object(N.a)(["\n  border-radius: ",";\n  background: ",";\n  background-size: cover;\n  background-position: center;\n  border: 1px solid ",";\n  box-shadow: 4px 4px 0 ",";\n  color: ",";\n"])),(function(e){return e.hasPillShape?"999px":"8px"}),(function(){return q.colors.primary}),(function(){return q.colors.black}),(function(){return q.colors.black}),(function(){return q.colors.black})),H=["children","to","href"],W=Object(D.b)(G)(i||(i=Object(N.a)(["\n  padding: 0.3em 1em;\n  font-size: 1.25rem;\n  font-weight: bold;\n  text-align: left;\n  cursor: pointer;\n\n  &:active,\n  .active {\n    box-shadow: none;\n    transform: translate(4px, 4px);\n  }\n"]))),K=function(e){var t=e.children,n=e.to,r=e.href,c=Object(J.a)(e,H);return n?Object(M.jsx)(W,Object(A.a)(Object(A.a)({as:z.b,to:n},c),{},{children:t})):r?Object(M.jsx)(W,Object(A.a)(Object(A.a)({as:"a",href:r},c),{},{children:t})):Object(M.jsx)(W,Object(A.a)(Object(A.a)({as:"button"},c),{},{children:t}))},X=D.b.h1(a||(a=Object(N.a)(["\n  font-size: ",";\n  text-shadow: 0.1em 0.1em ",";\n  -webkit-text-stroke: 1px ",";\n"])),(function(e){var t=e.remSize;return t?"".concat(t,"rem"):"3rem"}),(function(){return q.colors.black}),(function(){return q.colors.black})),Z=n(50),$=n.n(Z),ee=Object(C.createContext)({}),te=function(){return Object(C.useContext)(ee)},ne=new $.a({clientId:"51fe8697736c45858e634df10a31832b"}),re=function(e){var t=e.children,n=Object(C.useState)(),r=Object(I.a)(n,2),c=r[0],i=r[1],a=Object(C.useState)(),o=Object(I.a)(a,2),s=o[0],l=o[1],b=V().accessToken;Object(C.useEffect)((function(){b&&(ne.setAccessToken(b),ne.getMe().then((function(e){i(e.body)})),E.a.get("api/v1/sotdId").then((function(e){var t=e.data;ne.getTrack(t.sotdId).then((function(e){l(e.body)}))})))}),[b]);var j={spotifyApi:ne,me:c,sotd:s,setSotd:l};return Object(M.jsx)(ee.Provider,{value:j,children:t})},ce=D.b.div(o||(o=Object(N.a)(["\n  padding: 2rem;\n  > * {\n    margin-bottom: 2rem;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"]))),ie=D.b.form(s||(s=Object(N.a)(["\n  > * {\n    margin-bottom: 2rem;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"]))),ae=D.b.div(l||(l=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  label {\n    margin-bottom: 0.1rem;\n  }\n"]))),oe=function(){var e=Object(C.useState)(""),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Object(C.useState)(""),i=Object(I.a)(c,2),a=i[0],o=i[1],s=te(),l=s.spotifyApi,b=s.setSotd,j=Object(F.g)();return Object(M.jsxs)(ce,{children:[Object(M.jsx)(X,{children:"Admin Panel"}),Object(M.jsxs)(ie,{onSubmit:function(e){e.preventDefault(),E.a.post("api/v1/sotdId",{sotdId:n,password:a}).then((function(e){var t=e.data.sotdId;l.getTrack(t).then((function(e){b(e.body),j.push("/")}))})).catch((function(e){return console.error(e)}))},children:[Object(M.jsxs)(ae,{children:[Object(M.jsx)("label",{children:"Song of the day ID"}),Object(M.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)}})]}),Object(M.jsxs)(ae,{children:[Object(M.jsx)("label",{children:"Admin Panel Password"}),Object(M.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)}})]}),Object(M.jsx)(K,{children:"Proceed"})]})]})},se=n(12),le=["children"],be=D.b.div(b||(b=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  cursor: pointer;\n"]))),je=Object(D.b)(se.b)(j||(j=Object(N.a)(["\n  margin-right: 1.5rem;\n"]))),ue=function(e){var t=e.children,n=Object(J.a)(e,le),r=Object(F.g)();return Object(M.jsxs)(be,Object(A.a)(Object(A.a)({onClick:function(){r.goBack()}},n),{},{children:[Object(M.jsx)(je,{size:24}),Object(M.jsx)(X,{children:t})]}))},de=["url","text","subtext"],me=Object(D.b)(K)(u||(u=Object(N.a)(["\n  position: relative;\n  background-image: url(",");\n  min-width: 100px;\n  min-height: 100px;\n"])),(function(e){return e.url})),he=Object(D.b)(G)(d||(d=Object(N.a)(["\n  position: absolute;\n  bottom: -2px;\n  left: -2px;\n  background: ",";\n  color: ",";\n  padding: 0.3em 1em;\n  box-shadow: none;\n"])),(function(){return q.colors.black}),(function(){return q.colors.primary})),Oe=D.b.div(m||(m=Object(N.a)(["\n  font-size: ",";\n"])),(function(e){var t=e.size;switch(void 0===t?"sm":t){case"sm":return"inherit";case"lg":return"2rem"}})),fe=D.b.div(h||(h=Object(N.a)(["\n  font-weight: normal;\n  font-size: 1rem;\n  margin-top: 0.2rem;\n"]))),pe=function(e){var t=e.url,n=e.text,r=e.subtext,c=Object(J.a)(e,de);return Object(M.jsx)(me,Object(A.a)(Object(A.a)({url:t},c),{},{children:Object(M.jsxs)(he,{children:[Object(M.jsx)(Oe,{size:r?"sm":"lg",children:n}),r&&Object(M.jsx)(fe,{children:r})]})}))},ge=D.b.div(O||(O=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n\n  > * {\n    margin-bottom: 2rem;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"])),(function(){return q.borderSpace})),xe=function(e){var t=Object.assign({},e),n=te(),r=n.spotifyApi,c=n.sotd;return Object(M.jsxs)(ge,Object(A.a)(Object(A.a)({},t),{},{children:[Object(M.jsx)(K,{to:"/",children:"Home"}),Object(M.jsx)(K,{to:"/top-artists",children:"Your top artists"}),Object(M.jsx)(K,{to:"/top-tracks",children:"Your top tracks"}),c&&Object(M.jsx)(pe,{url:c.album.images[0].url,text:"Song of the day",subtext:"".concat(c.artists[0].name," - ").concat(c.name),onClick:function(){r.play({uris:[c.uri]})},style:{flex:1}})]}))},ye=n(0),ve=n(51),ke=Object(C.createContext)({}),Se=function(){return Object(C.useContext)(ke)},we=function(e){var t=e.children,n=Object(C.useState)(),r=Object(I.a)(n,2),c=r[0],i=r[1],a=Object(C.useState)(),o=Object(I.a)(a,2),s=o[0],l=o[1],b=te().spotifyApi,j=Object(C.useRef)(null),u=Object(ve.a)({name:"Extension for Spotify (Browser)",getOAuthToken:function(){return b.getAccessToken()},onPlayerStateChanged:function(e){b.getMyCurrentPlayingTrack().then((function(t){if(e&&t.body&&t.body.item&&"track"===t.body.item.type){var n=t.body,r=n.progress_ms,a=n.is_playing,o=t.body.item,s=o.id,b=o.name,j=o.artists,u=o.album,d=o.duration_ms;(null===c||void 0===c?void 0:c.id)!==s&&i({id:s,name:b,artists:j.map((function(e){return e.name})),imageUrl:u.images[1].url,isPlaying:a}),l({progress:r||0,duration:d})}}))}}),d=u.deviceId,m=u.player,h=u.isReady;Object(C.useEffect)((function(){h&&d&&b.transferMyPlayback([d])}),[h,d,b]),Object(C.useEffect)((function(){if(s&&c&&c.isPlaying)return j.current=setInterval((function(){l(Object(A.a)(Object(A.a)({},s),{},{progress:s.progress+1e3}))}),1e3),function(){clearInterval(j.current),j.current=null}}),[c,s,l]);var O={playerState:c,progressState:s,player:m};return Object(M.jsx)(ke.Provider,{value:O,children:t})};function Ce(e){var t=e/1e3,n=Math.floor(t/60),r=Math.floor(t%60).toString();return r.length<=1&&(r="0".concat(r)),"".concat(n,":").concat(r)}var Te,Pe,Be,ze,Ae,Fe,Ie,_e,Ee,Re,Ue,Me,Le,Ve,Ye,Ne=D.b.div(f||(f=Object(N.a)(["\n  padding: ",";\n"])),(function(){return q.borderSpace})),De=Object(D.b)(G)(p||(p=Object(N.a)(["\n  position: relative;\n  height: 100%;\n  padding: 1rem 3rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),qe=D.b.div(g||(g=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  width: 30%;\n"]))),Qe=D.b.p(x||(x=Object(N.a)(["\n  font-size: 1.25rem;\n  font-weight: bold;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),Je=Object(D.b)(se.a)(y||(y=Object(N.a)(["\n  margin-right: 0.5rem;\n"]))),Ge=D.b.div(v||(v=Object(N.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),He=D.b.div(k||(k=Object(N.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 30%;\n"]))),We=D.b.div(S||(S=Object(N.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: -0.25rem;\n  font-size: 0.9rem;\n"]))),Ke=D.b.div(w||(w=Object(N.a)(["\n  margin-top: 0.75rem;\n\n  > * {\n    margin-right: 1rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]))),Xe=function(e){var t=Object.assign({},e),n=Object(C.useRef)(null),r=Object(C.useRef)(null),c=te().spotifyApi,i=Se(),a=i.playerState,o=i.progressState,s=i.player;function l(e,t){return e/t*100}return Object(C.useEffect)((function(){n.current&&o&&(n.current.valueAsNumber=l(o.progress,o.duration),s.getVolume().then((function(e){r.current&&(r.current.valueAsNumber=100*e)})))}),[o,s]),Object(M.jsx)(Ne,Object(A.a)(Object(A.a)({},t),{},{children:Object(M.jsx)(ye.b.Provider,{value:{size:"20px",style:{cursor:"pointer"}},children:a&&o&&Object(M.jsxs)(De,{hasPillShape:!0,children:[Object(M.jsxs)(qe,{children:[Object(M.jsx)(G,{style:{backgroundImage:"url(".concat(a.imageUrl,")"),height:64,width:64,minWidth:64,marginRight:"1.25rem"}}),Object(M.jsxs)(Ge,{children:[Object(M.jsxs)(Qe,{children:[Object(M.jsx)(z.b,{to:"/lyrics",children:Object(M.jsx)(Je,{})})," ",a.name]}),Object(M.jsx)(Ge,{children:a.artists.join(", ")})]})]}),Object(M.jsxs)(He,{children:[Object(M.jsxs)(We,{style:{width:"100%"},children:[Object(M.jsx)("p",{children:Ce(o.progress||0)}),Object(M.jsx)("p",{children:Ce(o.duration)})]}),Object(M.jsx)("input",{ref:n,type:"range",min:0,max:100,defaultValue:l(o.progress,o.duration),onChange:function(e){return s.seek(o.duration*(parseFloat(e.target.value)/100))},style:{width:"100%"}}),Object(M.jsxs)(Ke,{children:[Object(M.jsx)(se.c,{onClick:function(){return c.skipToPrevious()}}),a.isPlaying?Object(M.jsx)(se.e,{onClick:function(){return c.pause()}}):Object(M.jsx)(se.f,{onClick:function(){return c.play()}}),Object(M.jsx)(se.d,{onClick:function(){return c.skipToNext()}})]})]}),Object(M.jsxs)(qe,{children:[Object(M.jsx)(se.h,{style:{margin:"0 1.25rem 0 auto",cursor:"default"}}),Object(M.jsx)("input",{ref:r,type:"range",min:0,max:100,onChange:function(e){return s.setVolume(parseFloat(e.target.value)/100)}})]})]})})}))},Ze=Object(C.createContext)({}),$e=function(e){var t=e.children,n=Object(C.useState)(""),r=Object(I.a)(n,2),c=r[0],i=r[1],a=Object(F.h)(),o=Object(F.g)(),s=Object(C.useCallback)((function(){var e=new URLSearchParams;c?(e.append("query",c),o.replace({pathname:"/search",search:e.toString()})):(e.delete("query"),"/search"===a.pathname&&o.replace({pathname:"/search",search:e.toString()}))}),[o,c]);Object(C.useEffect)((function(){var e=new URLSearchParams(a.search).get("query");e&&i(e)}),[]),Object(C.useEffect)((function(){s()}),[c,s]);var l={searchQuery:c,setSearchQuery:i,openSearchView:s};return Object(M.jsx)(Ze.Provider,{value:l,children:t})},et=Object(D.b)(G)(Te||(Te=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  background: ",";\n  padding: 0.3rem 1.5rem;\n"])),(function(){return q.colors.white})),tt=D.b.input(Pe||(Pe=Object(N.a)(["\n  font-size: inherit;\n  outline: none;\n  border: none;\n  margin-left: 1rem;\n  width: 100%;\n"]))),nt=function(e){var t=Object.assign({},e),n=Object(C.useContext)(Ze),r=n.searchQuery,c=n.setSearchQuery,i=n.openSearchView,a=Object(F.h)();return Object(M.jsxs)(et,Object(A.a)(Object(A.a)({hasPillShape:!0},t),{},{children:[Object(M.jsx)(se.g,{}),Object(M.jsx)(tt,{placeholder:"Search for Songs, Artists",value:r,autoFocus:"/search"===a.pathname,onFocus:function(){return i()},onChange:function(e){return c(e.target.value)}})]}))},rt=D.b.div(Be||(Be=Object(N.a)(["\n  display: flex;\n  padding: ",";\n  font-size: 1.25rem;\n"])),(function(){return q.borderSpace})),ct=D.b.img(ze||(ze=Object(N.a)(["\n  width: 2rem;\n  height: 2rem;\n  border-radius: 2rem;\n  vertical-align: middle;\n  object-fit: cover;\n  margin-right: 0.5rem;\n"]))),it=function(e){var t=Object.assign({},e),n=te().me,r=n&&n.images&&n.images[n.images.length-1].url;return Object(M.jsxs)(rt,Object(A.a)(Object(A.a)({},t),{},{children:[Object(M.jsx)(nt,{style:{flex:1,marginRight:"2rem"}}),Object(M.jsxs)(K,{hasPillShape:!0,to:"/my-profile",children:[Object(M.jsx)(ct,{src:r,alt:"Avatar"}),"Your profile"]})]}))},at=D.b.main(Ae||(Ae=Object(N.a)(["\n  display: grid;\n  grid-template-columns: 360px 3fr;\n  grid-template-rows: max-content 1fr max-content;\n  height: 100%;\n"]))),ot=D.b.div(Fe||(Fe=Object(N.a)(["\n  grid-column: 2/3;\n  grid-row: 2/3;\n  padding: ",";\n  overflow: hidden auto;\n"])),(function(){return q.borderSpace})),st=function(e){var t=e.children;return Object(M.jsxs)(at,{children:[Object(M.jsx)(it,{style:{gridColumn:"2/3",gridRow:"1/2",borderBottom:"1px solid ".concat(q.colors.black)}}),Object(M.jsx)(xe,{style:{gridColumn:"1/2",gridRow:"1/3",borderRight:"1px solid ".concat(q.colors.black)}}),Object(M.jsx)(Xe,{style:{gridColumn:"1/3",gridRow:"3/4",borderTop:"1px solid ".concat(q.colors.black)}}),Object(M.jsx)(ot,{children:t})]})},lt=Object(D.b)(K)(Ie||(Ie=Object(N.a)(["\n  padding: 0.6rem 1.5rem;\n  display: flex;\n  justify-content: space-between;\n  color: ",";\n"])),q.colors.primary),bt=D.b.div(_e||(_e=Object(N.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  > * {\n    margin-right: 1.5rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]))),jt=D.b.p(Ee||(Ee=Object(N.a)(["\n  font-weight: bold;\n  color: ",";\n  font-size: 1rem;\n"])),q.colors.black),ut=D.b.p(Re||(Re=Object(N.a)(["\n  font-weight: bold;\n  color: ",";\n  font-size: 0.8rem;\n"])),q.colors.black),dt=function(e){var t=e.id,n=e.name,r=e.type,c=e.artists,i=e.imageUrl,a=e.uri,o=e.duration,s=e.index,l=Object(F.g)(),b=te().spotifyApi;return Object(M.jsxs)(lt,{onClick:function(){"track"===r&&a?b.play({uris:[a]}):"artist"===r&&l.push("/artist/".concat(t))},children:[Object(M.jsxs)(bt,{children:[void 0!==s&&Object(M.jsx)(X,{remSize:2,children:s+1}),Object(M.jsx)(G,{style:{backgroundImage:"url(".concat(i,")"),height:48,width:48},hasPillShape:"track"!==r}),Object(M.jsxs)("div",{children:[Object(M.jsx)(X,{remSize:1.5,children:n}),c&&Object(M.jsx)(jt,{children:c.map((function(e){return e.name})).join(", ")})]})]}),"track"===r&&Object(M.jsxs)(bt,{children:[o&&Object(M.jsx)(ut,{children:Ce(o)}),Object(M.jsx)(se.f,{color:q.colors.black})]})]})},mt=D.b.div(Ue||(Ue=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin-bottom: 2rem;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"]))),ht=function(e){var t=e.items,n=e.showIndex,r=void 0===n||n;return Object(M.jsx)(mt,{children:t.map((function(e,t){return Object(M.jsx)(dt,Object(A.a)(Object(A.a)({},e),{},{index:r?t:void 0}),e.id)}))})};function Ot(e){return e.map((function(e){var t=e.id,n=e.name,r=e.type,c=e.artists,i=e.album,a=e.uri,o=e.duration_ms;return{id:t,name:n,type:r,artists:c,imageUrl:i.images[i.images.length-1].url,uri:a,duration:o}}))}var ft,pt,gt,xt,yt,vt,kt,St,wt,Ct,Tt,Pt=D.b.div(Me||(Me=Object(N.a)(["\n  display: flex;\n  align-items: center;\n"]))),Bt=D.b.div(Le||(Le=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),zt=Object(D.b)(G)(Ve||(Ve=Object(N.a)(["\n  width: 200px;\n  height: 200px;\n  margin-right: 2rem;\n"]))),At=D.b.p(Ye||(Ye=Object(N.a)(["\n  font-weight: bold;\n  color: ",";\n  font-size: 1rem;\n  margin-top: 0.5rem;\n"])),q.colors.white),Ft=function(){var e=Object(C.useState)(),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Object(C.useState)([]),i=Object(I.a)(c,2),a=i[0],o=i[1],s=Object(F.i)().id,l=te().spotifyApi;return Object(C.useEffect)((function(){l.getArtist(s).then((function(e){r({name:e.body.name,genres:e.body.genres,imageUrl:e.body.images.length?e.body.images[0].url:""})})),l.getArtistTopTracks(s,"GB").then((function(e){o(Ot(e.body.tracks))}))}),[l,s]),Object(M.jsxs)(st,{children:[Object(M.jsx)(ue,{style:{marginBottom:"2rem"},children:"Artist"}),n&&Object(M.jsxs)(Pt,{style:{marginBottom:"4rem"},children:[Object(M.jsx)(zt,{hasPillShape:!0,style:{backgroundImage:"url(".concat(n.imageUrl,")")}}),Object(M.jsxs)(Bt,{children:[Object(M.jsx)(X,{children:n.name}),Object(M.jsx)(At,{children:n&&n.genres.join(", ")})]})]}),Object(M.jsx)(X,{remSize:2,style:{marginBottom:"2rem"},children:"Popular tracks"}),Object(M.jsx)(ht,{items:a})]})},It=D.b.p(ft||(ft=Object(N.a)(["\n  color: ",";\n"])),(function(){return q.colors.white})),_t=D.b.section(pt||(pt=Object(N.a)(["\n  margin-bottom: 6rem;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  > * {\n    margin-bottom: 1rem;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n"]))),Et=D.b.div(gt||(gt=Object(N.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-auto-rows: 250px;\n  gap: 2rem;\n"]))),Rt=D.b.div(xt||(xt=Object(N.a)(["\n  display: flex;\n  > * {\n    margin-right: 1rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]))),Ut=function(){var e=Object(C.useState)(""),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Object(C.useState)(""),i=Object(I.a)(c,2),a=i[0],o=i[1],s=te().spotifyApi;return Object(C.useEffect)((function(){s.getMyTopTracks({limit:1,time_range:"short_term"}).then((function(e){return r(e.body.items[0].album.images[0].url)})),s.getMyTopArtists({limit:1,time_range:"short_term"}).then((function(e){return o(e.body.items[0].images[0].url)}))}),[s]),Object(M.jsxs)(st,{children:[Object(M.jsxs)(_t,{children:[Object(M.jsx)(X,{children:"Extension for Spotify"}),Object(M.jsxs)(Et,{children:[Object(M.jsx)(pe,{url:a,text:"Your top artists",to:"/top-artists"}),Object(M.jsx)(pe,{url:n,text:"Your top tracks",to:"/top-tracks"})]})]}),Object(M.jsxs)(_t,{children:[Object(M.jsx)(X,{children:"Some links"}),Object(M.jsxs)(Rt,{children:[Object(M.jsx)(K,{href:"https://github.com",target:"_blank",children:"Source code"}),Object(M.jsx)(K,{href:"mailto:boryskac10@gmail.com",style:{background:q.colors.blue},children:"E-mail"}),Object(M.jsx)(K,{href:"https://open.spotify.com/user/ynbx97gvj0yplrg62v0esozxp?si=77273d759c594a26",target:"_blank",style:{background:q.colors.green},children:"My Spotify"})]})]}),Object(M.jsx)(_t,{children:Object(M.jsxs)(It,{children:["\xa9 ",(new Date).getFullYear(),", Borys"]})})]})},Mt=D.b.div(yt||(yt=Object(N.a)(["\n  display: grid;\n  place-items: center;\n  height: 100%;\n"]))),Lt=D.b.div(vt||(vt=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Vt=function(){return Object(M.jsx)(Mt,{children:Object(M.jsxs)(Lt,{children:[Object(M.jsx)(X,{style:{marginBottom:"2rem"},children:"Extension for Spotify"}),Object(M.jsx)(K,{href:"https://accounts.spotify.com/authorize?response_type=code&client_id=51fe8697736c45858e634df10a31832b&redirect_uri=http://localhost:3000&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state%20user-top-read",style:{background:q.colors.green},children:"Login with Spotify"})]})})},Yt=n(17),Nt=n.n(Yt),Dt=n(52),qt=function(){var e=Object(C.useState)("Loading..."),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Se().playerState;return Object(C.useEffect)((function(){var e=E.a.CancelToken.source();return Object(Dt.a)(Nt.a.mark((function t(){var n,i,a,o;return Nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}return t.abrupt("return");case 2:return r("Loading..."),n=c.name,i=c.artists,a=i.join(", "),t.next=7,E.a.post("api/v1/lyrics",{artists:a,name:n,cancelToken:e.token});case 7:o=t.sent,r(o.data.lyrics||'Not Found for "'.concat(a," - ").concat(n,'"'));case 9:case"end":return t.stop()}}),t)})))(),function(){e.cancel("cancelled")}}),[c]),Object(M.jsx)(st,{children:c&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ue,{style:{marginBottom:"2rem"},children:"Current Lyrics"}),Object(M.jsxs)(X,{remSize:1.5,style:{marginBottom:"2rem"},children:[c.artists.join(", ")," - ",c.name]}),Object(M.jsx)(It,{style:{whiteSpace:"pre-wrap"},children:n})]})})},Qt=function(){var e=V().signOut,t=Se().player;return Object(M.jsxs)(st,{children:[Object(M.jsx)(ue,{style:{marginBottom:"2rem"},children:"My Profile"}),Object(M.jsx)("div",{children:Object(M.jsx)(K,{onClick:function(){t.disconnect(),e()},style:{background:q.colors.red},children:"Sign out"})})]})},Jt=function(){var e=Object(C.useState)([]),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Object(C.useState)([]),i=Object(I.a)(c,2),a=i[0],o=i[1],s=Object(F.h)(),l=te().spotifyApi;return Object(C.useEffect)((function(){var e=new URLSearchParams(s.search).get("query");if(!e)return r([]),void o([]);l.searchArtists(e,{limit:3}).then((function(e){var t=e.body.artists;t&&r(t.items.map((function(e){var t=e.id,n=e.name,r=e.type,c=e.images;return{id:t,name:n,type:r,imageUrl:c.length?c[c.length-1].url:""}})))})),l.searchTracks(e,{limit:20}).then((function(e){var t=e.body.tracks;t&&o(Ot(t.items))}))}),[l,s.search]),Object(M.jsxs)(st,{children:[Object(M.jsx)(ue,{style:{marginBottom:"2rem"},children:"Search"}),Object(M.jsx)(X,{remSize:2,style:{marginBottom:"1rem"},children:"Artists"}),n.length?Object(M.jsx)(ht,{items:n,showIndex:!1}):Object(M.jsx)(It,{children:"No results"}),Object(M.jsx)(X,{remSize:2,style:{margin:"2rem 0 1rem"},children:"Tracks"}),a.length?Object(M.jsx)(ht,{items:a}):Object(M.jsx)(It,{children:"No results"})]})},Gt=Object(D.b)(K)(kt||(kt=Object(N.a)(["\n  position: relative;\n  color: ",";\n  padding: 1.5rem;\n"])),q.colors.primary),Ht=Object(D.b)(X)(St||(St=Object(N.a)(["\n  position: absolute;\n  top: 0;\n  right: 1.5rem;\n  z-index: 1;\n"]))),Wt=Object(D.b)(G)(wt||(wt=Object(N.a)(["\n  aspect-ratio: 1/1;\n  margin-bottom: 2rem;\n"]))),Kt=function(e){var t=e.id,n=e.name,r=e.imageUrl,c=e.index;return Object(M.jsxs)(Gt,{to:"/artist/".concat(t),children:[Object(M.jsx)(Ht,{remSize:4.5,children:c+1}),Object(M.jsx)(Wt,{hasPillShape:!0,style:{backgroundImage:"url(".concat(r,")")}}),Object(M.jsx)(X,{remSize:2,children:n})]})},Xt=D.b.div(Ct||(Ct=Object(N.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 4rem;\n"]))),Zt=function(e){var t=e.items;return Object(M.jsx)(Xt,{children:t.map((function(e,t){return Object(M.jsx)(Kt,Object(A.a)(Object(A.a)({},e),{},{index:t}),t)}))})},$t=["currentValue","options","onButtonClick"],en=D.b.div(Tt||(Tt=Object(N.a)(["\n  display: flex;\n\n  > * {\n    margin-right: 1rem;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]))),tn=function(e){var t=e.currentValue,n=e.options,r=e.onButtonClick,c=Object(J.a)(e,$t);return Object(M.jsx)(en,Object(A.a)(Object(A.a)({},c),{},{children:n.map((function(e,n){var c=e.text,i=e.value;return Object(M.jsx)(K,{onClick:function(){return r(i)},className:i===t?"active":void 0,children:c},n)}))}))},nn=function(){var e=Object(C.useState)([]),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Object(C.useState)("short_term"),i=Object(I.a)(c,2),a=i[0],o=i[1],s=te().spotifyApi;return Object(C.useEffect)((function(){r([]),s.getMyTopArtists({limit:50,time_range:a}).then((function(e){r(e.body.items.map((function(e){var t=e.id,n=e.name,r=e.images;return{id:t,name:n,imageUrl:r.length?r[0].url:""}})))})).catch((function(e){console.error(e)}))}),[s,a]),Object(M.jsxs)(st,{children:[Object(M.jsx)(ue,{style:{marginBottom:"2rem"},children:"Your top artists"}),Object(M.jsx)(tn,{currentValue:a,onButtonClick:function(e){return o(e)},options:[{text:"4 weeks",value:"short_term"},{text:"6 months",value:"medium_term"},{text:"All time",value:"long_term"}],style:{marginBottom:"2rem"}}),Object(M.jsx)(Zt,{items:n})]})},rn=function(){var e=Object(C.useState)([]),t=Object(I.a)(e,2),n=t[0],r=t[1],c=Object(C.useState)("short_term"),i=Object(I.a)(c,2),a=i[0],o=i[1],s=te().spotifyApi;return Object(C.useEffect)((function(){r([]),s.getMyTopTracks({limit:50,time_range:a}).then((function(e){r(Ot(e.body.items))})).catch((function(e){console.error(e)}))}),[s,a]),Object(M.jsxs)(st,{children:[Object(M.jsx)(ue,{style:{marginBottom:"2rem"},children:"Your top tracks"}),Object(M.jsx)(tn,{currentValue:a,onButtonClick:function(e){return o(e)},options:[{text:"4 weeks",value:"short_term"},{text:"6 months",value:"medium_term"},{text:"All time",value:"long_term"}],style:{marginBottom:"2rem"}}),Object(M.jsx)(ht,{items:n})]})},cn=function(e){var t=Object.assign({},e);return V().accessToken?Object(M.jsx)(F.b,Object(A.a)({},t)):Object(M.jsx)(F.a,{to:"/login"})},an=function(e){var t=Object.assign({},e);return V().accessToken?Object(M.jsx)(F.a,{to:"/"}):Object(M.jsx)(F.b,Object(A.a)({},t))};var on=function(){var e=V().loading;return Object(M.jsxs)(M.Fragment,{children:[e?"Loading auth state":Object(M.jsxs)(F.d,{children:[Object(M.jsx)(cn,{exact:!0,path:"/",component:Ut}),Object(M.jsx)(cn,{path:"/top-artists",component:nn}),Object(M.jsx)(cn,{path:"/top-tracks",component:rn}),Object(M.jsx)(cn,{path:"/artist/:id",component:Ft}),Object(M.jsx)(cn,{path:"/my-profile",component:Qt}),Object(M.jsx)(cn,{path:"/search",component:Jt}),Object(M.jsx)(cn,{path:"/lyrics",component:qt}),Object(M.jsx)(an,{path:"/login",component:Vt}),Object(M.jsx)(F.b,{path:"/admin",component:oe}),Object(M.jsx)(F.b,{path:"*",component:function(){return Object(M.jsx)(F.a,{to:"/"})}})]}),Object(M.jsx)(Q,{})]})},sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};B.a.render(Object(M.jsx)(T.a.StrictMode,{children:Object(M.jsx)(z.a,{children:Object(M.jsx)(Y,{children:Object(M.jsx)($e,{children:Object(M.jsx)(re,{children:Object(M.jsx)(we,{children:Object(M.jsx)(on,{})})})})})})}),document.getElementById("root")),sn()}},[[119,1,2]]]);
//# sourceMappingURL=main.32c7fbcc.chunk.js.map